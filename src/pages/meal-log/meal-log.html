<modal>
  <!-- header for ng-content -->
  <ion-header>
    <ion-navbar color="primary">
      <ion-buttons start>
        <button ion-button icon-only (click)="dismiss()">
          <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>
        </button>
      </ion-buttons>
      <ion-title>
        Meal
      </ion-title>
    </ion-navbar>
  </ion-header>

  <!-- content for ng-content -->
  <ion-content>
    <ion-list>
      <ion-list-header>
        Meal Time
      </ion-list-header>
      <ion-item>
        <ion-icon ios="ios-restaurant" md="md-restaurant" item-start color="secondary"></ion-icon>
        <h4 *ngIf="meal.mealDate">{{meal.mealDate | date:'EEEE, MMM d'}}</h4>
        <p *ngIf="meal.mealDate && meal.mealTime">{{(meal.mealDate + 'T' + meal.mealTime) | date:'shortTime'}}</p>
        <p>{{meal.mealType}}</p>
      </ion-item>
    </ion-list>
    <ion-list>
      <ion-list-header>
        Before Meal
      </ion-list-header>
      <ion-item>
        <progress-circles
          *ngIf="meal.id"
          [progressData1]="{ title: 'Physical Hunger', description: meal.hungerLevelBefore | hungerRange, max: 5, current: meal.hungerLevelBefore}"
          [progressData2]="{ title: 'Mental Hunger', description: meal.intensityLevel | cravingsRange, max: 4, current: meal.intensityLevel}"
        ></progress-circles>
      </ion-item>
      <ion-item text-wrap>
        <ion-icon ios="ios-happy" md="md-happy" color="secondary" item-start></ion-icon>
        <h4>Emotions</h4>
        <p>
          {{(meal.beforeEmotions | getValues | sortStrings).join(', ')}}
        </p>
      </ion-item>
      <ion-item text-wrap>
        <ion-icon ios="ios-nutrition" md="md-nutrition" color="secondary" item-start></ion-icon>
        <h4>Foods Craved</h4>
        <p>
          {{(meal.beforeFoods | getValues | sortStrings).join(', ')}}
        </p>
      </ion-item>
      <ion-item text-wrap>
        <h4>Trigger Description</h4>
        <p>
          {{meal.triggerDescription}}
        </p>
      </ion-item>
    </ion-list>
    <ion-list *ngIf="meal.completed === 1">
      <ion-list-header>
        After Meal
      </ion-list-header>
      <ion-item>
        <progress-circles
          [progressData1]="{ title: 'Hunger Level', description: meal.hungerLevelAfter | hungerRange, max: 5, current: meal.hungerLevelAfter }"
          [progressData2]="{ title: 'Satisfaction Level', description: meal.satisfactionLevel | satisfactionRange, max: 4, current: meal.satisfactionLevel }"
        ></progress-circles>
      </ion-item>
      <ion-item text-wrap>
        <ion-icon ios="ios-happy" md="md-happy" color="secondary" item-start></ion-icon>
        <h4>Emotions</h4>
        <p>
          {{(meal.afterEmotions | getValues | sortStrings).join(', ')}}
        </p>
      </ion-item>
      <ion-item text-wrap>
        <ion-icon ios="ios-nutrition" md="md-nutrition" color="secondary" item-start></ion-icon>
        <h4>Foods Consumed</h4>
        <p>
          {{(meal.afterFoods | getValues | sortStrings).join(', ')}}
        </p>
      </ion-item>
      <ion-item text-wrap>
        <h4>Meal Description</h4>
        <p>
          {{meal.mealDescription}}
        </p>
      </ion-item>
    </ion-list>
  </ion-content>

  <!-- <ion-footer>
    <ion-toolbar color="primary">
      <ion-buttons end>
        <button ion-button icon-only (click)="dismiss()">
          <ion-icon ios="ios-checkmark-circle" md="md-checkmark-circle"></ion-icon>
        </button>
      </ion-buttons>
    </ion-toolbar>
  </ion-footer> -->
</modal>
